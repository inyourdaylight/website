{"ast":null,"code":"export default {\n  name: 'IndexIndex',\n  props: {},\n  components: {},\n  watch: {\n    $route() {\n      this.$nextTick(() => {\n        this.showNav = false;\n        window.scrollTo(0, 0);\n        try {\n          this.page = this.$cms.routes.filter(i => i.path === window.location.pathname)[0];\n        } catch {\n          console.log(\"page doesn't exist\");\n          window.location.href = \"./404\";\n        }\n      });\n    }\n  },\n  methods: {\n    clickEvents(e) {\n      this.clickEvent = e;\n      switch (e.target.id) {\n        case \"hamburgerMenu\":\n          {\n            this.showNav = !this.showNav;\n            break;\n          }\n        case \"closeNav\":\n          {\n            this.showNav = false;\n            break;\n          }\n      }\n    },\n    scroll() {\n      this.scrollPos = window.scrollY;\n      this.shineGradient(this.scrollPos);\n    },\n    shineGradient(scrollPos) {\n      var pos = Math.min(scrollPos, window.innerHeight * .8);\n      this.$refs.shine.style = `transform: translateY(${window.innerHeight * .5 - pos}px)`;\n    }\n  },\n  data() {\n    return {\n      showNav: false,\n      scrollLimit: 0,\n      scrollPos: 0,\n      page: null,\n      clickEvent: null\n    };\n  },\n  mounted() {\n    // Defining only one click event listener here, to prevent possible memory leaks\n    // window.addEventListener(\"mousedown\", this.clickEvents);\n    window.addEventListener(\"click\", this.clickEvents);\n    window.addEventListener(\"touchstart\", this.clickEvents);\n    // window.addEventListener(\"touchstart\", this.clickEvents);\n\n    window.onload = () => {\n      return new Promise(resolve => {\n        setTimeout(() => {\n          window.scrollTo({\n            top: 0,\n            left: 0\n          });\n          resolve();\n        }, 0);\n      }).then(() => {\n        window.addEventListener(\"scroll\", this.scroll);\n      });\n    };\n    this.shineGradient(this.scrollPos);\n  },\n  beforeUpdate() {\n    this.scrollLimit = document.getElementById(\"page\").getBoundingClientRect().height - window.innerHeight;\n  }\n};","map":{"version":3,"mappings":"AAiCA,eAAe;EACbA,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE,CACP,CAAC;EACDC,UAAU,EAAE,CACZ,CAAC;EACDC,KAAK,EAAE;IACLC,MAAM,GAAG;MACP,IAAI,CAACC,SAAS,CAAC,MAAM;QACnB,IAAI,CAACC,OAAM,GAAI,KAAK;QACpBC,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;QACrB,IAAI;UACF,IAAI,CAACC,IAAG,GAAI,IAAI,CAACC,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,KAAKA,CAAC,CAACC,IAAG,KAAMP,MAAM,CAACQ,QAAQ,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAClF,EAAE,MAAM;UACNC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;UACjCX,MAAM,CAACQ,QAAQ,CAACI,IAAI,GAAC,OAAO;QAC9B;MACF,CAAC;IACH;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,WAAW,CAACC,CAAC,EAAE;MACb,IAAI,CAACC,UAAS,GAAID,CAAC;MACnB,QAAOA,CAAC,CAACE,MAAM,CAACC,EAAE;QAChB,KAAK,eAAe;UAAE;YACpB,IAAI,CAACnB,OAAM,GAAI,CAAC,IAAI,CAACA,OAAO;YAC5B;UACF;QACA,KAAK,UAAU;UAAE;YACf,IAAI,CAACA,OAAM,GAAI,KAAK;YACpB;UACF;MAAA;IAEJ,CAAC;IACDoB,MAAM,GAAG;MACP,IAAI,CAACC,SAAQ,GAAIpB,MAAM,CAACqB,OAAO;MAC/B,IAAI,CAACC,aAAa,CAAC,IAAI,CAACF,SAAS,CAAC;IACpC,CAAC;IACDE,aAAa,CAACF,SAAS,EAAE;MACvB,IAAIG,GAAE,GAAIC,IAAI,CAACC,GAAG,CAACL,SAAS,EAAGpB,MAAM,CAAC0B,WAAU,GAAI,EAAE,CAAE;MACxD,IAAI,CAACC,KAAK,CAACC,KAAK,CAACC,KAAI,GAAK,yBAA0B7B,MAAM,CAAC0B,WAAU,GAAI,EAAE,GAAIH,GAAI,KAAI;IACzF;EACF,CAAC;EACDO,IAAI,GAAG;IACL,OAAO;MACL/B,OAAO,EAAE,KAAK;MACdgC,WAAW,EAAE,CAAC;MACdX,SAAS,EAAE,CAAC;MACZlB,IAAI,EAAE,IAAI;MACVc,UAAU,EAAE;IACd;EACF,CAAC;EACDgB,OAAO,GAAG;IACP;IACD;IACAhC,MAAM,CAACiC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACnB,WAAW,CAAC;IAClDd,MAAM,CAACiC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAACnB,WAAW,CAAC;IACvD;;IAGAd,MAAM,CAACkC,MAAK,GAAI,MAAM;MACpB,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;QAC5BC,UAAU,CAAC,MAAM;UACfrC,MAAM,CAACC,QAAQ,CAAC;YAACqC,GAAG,EAAE,CAAC;YAAEC,IAAI,EAAE;UAAC,CAAC,CAAC;UAClCH,OAAO,EAAE;QACX,CAAC,EAAE,CAAC,CAAC;MACT,CAAC,CAAC,CAACI,IAAI,CAAC,MAAM;QACZxC,MAAM,CAACiC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACd,MAAM,CAAC;MAChD,CAAC;IAEH;IACA,IAAI,CAACG,aAAa,CAAC,IAAI,CAACF,SAAS,CAAC;EAGpC,CAAC;EACDqB,YAAY,GAAG;IACb,IAAI,CAACV,WAAU,GAAIW,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAACC,qBAAqB,EAAE,CAACC,MAAK,GAAI7C,MAAM,CAAC0B,WAAW;EACxG;AACF","names":["name","props","components","watch","$route","$nextTick","showNav","window","scrollTo","page","$cms","routes","filter","i","path","location","pathname","console","log","href","methods","clickEvents","e","clickEvent","target","id","scroll","scrollPos","scrollY","shineGradient","pos","Math","min","innerHeight","$refs","shine","style","data","scrollLimit","mounted","addEventListener","onload","Promise","resolve","setTimeout","top","left","then","beforeUpdate","document","getElementById","getBoundingClientRect","height"],"sourceRoot":"","sources":["/Users/rebj/Sites/staging-iyd/src/Index.vue"],"sourcesContent":["<template>\n  <div class=\"index\">\n    <!-- <div class=\"gradient\"></div> -->\n    <div class=\"shine-gradient\" ref=\"shine\"></div>\n    <div :class=\"`nav-background ${page ? page.bg === 'light' ? 'light-nav-background' : 'dark-nav-background' : ''} ${scrollPos > 50 ? 'show-nav-background' : 'hide-nav-background'}`\"></div>\n    <HeaderNav \n    :clickEvents=\"clickEvent\"\n    :scrollLimit=\"scrollLimit\" \n    :scrollPos=\"scrollPos\"\n    :showNav=\"showNav\"\n    :navColor=\"page ? page.bg === 'light' ? 'navDark' : 'navLight' : ''\"></HeaderNav>\n    \n      <transition appear name=\"header-nav-screen\">\n        <HeaderNavScreen \n        v-show=\"showNav\" \n        :showNav=\"showNav\"\n        ></HeaderNavScreen>\n      </transition>\n\n    <div id=\"page\" :class=\"`${page ? page.bg === 'light' ? 'lightpage' : 'darkpage' : ''}`\" >\n    <div class=\"gradient\" v-show=\"page && page.bg === 'light'\"></div>\n\n      <router-view\n      :clickEvents=\"clickEvent\"\n      :key=\"$route\"\n      :scrollPos=\"scrollPos\"\n      ></router-view>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'IndexIndex',\n  props: {\n  },\n  components: {\n  },\n  watch: {\n    $route() {\n      this.$nextTick(() => {\n        this.showNav = false;\n        window.scrollTo(0, 0);\n        try {\n          this.page = this.$cms.routes.filter(i => i.path === window.location.pathname)[0];\n        } catch {\n          console.log(\"page doesn't exist\");\n          window.location.href=\"./404\";\n        }\n      })\n    }\n  },\n  methods: {\n    clickEvents(e) {\n      this.clickEvent = e;\n      switch(e.target.id) {\n        case \"hamburgerMenu\": {\n          this.showNav = !this.showNav;\n          break;\n        }\n        case \"closeNav\": {\n          this.showNav = false;\n          break;\n        }\n      }\n    },\n    scroll() {\n      this.scrollPos = window.scrollY;\n      this.shineGradient(this.scrollPos);\n    },\n    shineGradient(scrollPos) {\n      var pos = Math.min(scrollPos, (window.innerHeight * .8));\n      this.$refs.shine.style = `transform: translateY(${ (window.innerHeight * .5) - pos}px)`;\n    }\n  },\n  data() {\n    return {\n      showNav: false,\n      scrollLimit: 0,\n      scrollPos: 0,\n      page: null,\n      clickEvent: null\n    }\n  },\n  mounted() {\n     // Defining only one click event listener here, to prevent possible memory leaks\n    // window.addEventListener(\"mousedown\", this.clickEvents);\n    window.addEventListener(\"click\", this.clickEvents);\n    window.addEventListener(\"touchstart\", this.clickEvents);\n    // window.addEventListener(\"touchstart\", this.clickEvents);\n\n   \n    window.onload = () => {\n      return new Promise((resolve) => {\n          setTimeout(() => {\n            window.scrollTo({top: 0, left: 0});\n            resolve();\n          }, 0);\n      }).then(() => {\n        window.addEventListener(\"scroll\", this.scroll);\n      })\n      \n    }\n    this.shineGradient(this.scrollPos);\n\n   \n  },\n  beforeUpdate() {\n    this.scrollLimit = document.getElementById(\"page\").getBoundingClientRect().height - window.innerHeight;\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\">\n@import \"./styles.scss\";\n@import \"./fonts.scss\";\np, li, div {\n    font-family: $body;\n    color: white;\n    margin-top: 0;\n}\n.gradient {\n  position: absolute;\n  width: 100vw;\n  height: 479px;\n  background: linear-gradient(180deg, rgba(255, 243, 197, 0) 0%, $lightgold 94.79%);\n  transform: rotate(-180deg);\n  z-index: 0;\n  pointer-events: none;\n}\n.shine-gradient {\n  // background-image: url(\"./assets/BG Gradient.png\");\n  background: rgb(207,209,189);\n  background: radial-gradient(circle, rgba(207,209,189,1) 0%, rgba(224,224,224,0) 100%);\n  position: fixed;\n  // transform: translateY(-50%);\n  top: -50vh;\n  left: 0;\n  width: 100%;\n  height: 150vh;\n  background-size: 100% 100%;\n  background-repeat: no-repeat;\n  background-position: center;\n  z-index: 0;\n  // transition: all 1s ease;\n  pointer-events: none;\n}\n\n#page {\n  position: relative;\n  z-index: 2;\n}\n#app {\n  background-color: $darkblue;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n.page {\n  z-index: 1;\n  position: relative;\n}\n.header-nav-screen  {\n  width: 100vw;\n  transition: all 1000ms cubic-bezier(0.355, 0.005, 0.240, 0.990); /* custom */\n  transition-timing-function: cubic-bezier(0.355, 0.005, 0.240, 0.990); /* custom */\n  @media screen and (min-width: $mobileup) {\n    display: none;\n  }\n}\n.header-nav-screen-enter-to {\n  width: 100vw !important;\n}\n.header-nav-screen-enter-active {\n  width: 0vw;\n}\n.header-nav-screen-leave-to {\n  width: 0vw;\n}\n\n.page {\n  position: relative;\n  z-index: 2;\n  min-height: 100vh;\n}\nh1 {\n    font-family: $heading;\n    // text-transform: uppercase;\n}\nh3 {\n    font-family: $subheading;\n}\n.dark-nav-background {\n  background: linear-gradient(0deg, rgba(37,37,37,0) 0%, rgba(33,49,58,0.5536808473389356) 21%, rgba(32,51,62,0.8730085784313726) 49%, rgba(32,52,65,0.9374343487394958) 66%, rgba(31,55,70,1) 100%);\n}\n.light-nav-background {\n  background: linear-gradient(0deg, rgba(224,224,224,0) 0%, rgba(224,224,224,0.6965379901960784) 41%, rgba(224,224,224,1) 100%);\n}\n.nav-background {\n  position: fixed;\n  height: 80px;\n  width: 100%;\n  // background: $darkblue;\n  z-index: 3;\n  top: 0;\n  transition: all .5s ease !important;\n  transform: translateY(0%);\n}\n.show-nav-background {\n  transform: translateY(0%);\n  transition: all .5s ease;\n}\n.hide-nav-background {\n  transform: translateY(-100%);\n  transition: all .5s ease;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}