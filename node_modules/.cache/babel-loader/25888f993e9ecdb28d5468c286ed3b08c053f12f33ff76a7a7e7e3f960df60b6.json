{"ast":null,"code":"export default {\n  name: 'IndexIndex',\n  props: {},\n  components: {},\n  watch: {\n    $route() {\n      this.$nextTick(() => {\n        this.showNav = false;\n        window.scrollTo(0, 0);\n        try {\n          this.page = this.$cms.routes.filter(i => i.path === window.location.pathname)[0];\n        } catch {\n          console.log(\"page doesn't exist\");\n          window.location.href = \"./404\";\n        }\n      });\n    }\n  },\n  methods: {\n    clickEvents(e) {\n      switch (e.target.id) {\n        case \"hamburgerMenu\":\n          {\n            this.showNav = !this.showNav;\n            break;\n          }\n        case \"closeNav\":\n          {\n            this.showNav = false;\n            break;\n          }\n      }\n    },\n    scroll() {\n      this.scrollPos = window.scrollY;\n    }\n  },\n  data() {\n    return {\n      showNav: false,\n      scrollLimit: 0,\n      scrollPos: 0,\n      page: null\n    };\n  },\n  mounted() {\n    // Defining only one click event listener here, to prevent possible memory leaks\n    window.addEventListener(\"click\", this.clickEvents);\n    window.onload = () => {\n      return new Promise(resolve => {\n        setTimeout(() => {\n          window.scrollTo({\n            top: 0,\n            left: 0\n          });\n          resolve();\n        }, 0);\n      }).then(() => {\n        window.addEventListener(\"scroll\", this.scroll);\n      });\n    };\n  },\n  beforeUpdate() {\n    this.scrollLimit = document.getElementById(\"page\").getBoundingClientRect().height - window.innerHeight;\n  }\n};","map":{"version":3,"mappings":"AA4BA,eAAe;EACbA,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE,CACP,CAAC;EACDC,UAAU,EAAE,CACZ,CAAC;EACDC,KAAK,EAAE;IACLC,MAAM,GAAG;MACP,IAAI,CAACC,SAAS,CAAC,MAAM;QACnB,IAAI,CAACC,OAAM,GAAI,KAAK;QACpBC,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;QACrB,IAAI;UACF,IAAI,CAACC,IAAG,GAAI,IAAI,CAACC,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,KAAKA,CAAC,CAACC,IAAG,KAAMP,MAAM,CAACQ,QAAQ,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAClF,EAAE,MAAM;UACNC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;UACjCX,MAAM,CAACQ,QAAQ,CAACI,IAAI,GAAC,OAAO;QAC9B;MACF,CAAC;IACH;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,WAAW,CAACC,CAAC,EAAE;MACb,QAAOA,CAAC,CAACC,MAAM,CAACC,EAAE;QAChB,KAAK,eAAe;UAAE;YACpB,IAAI,CAAClB,OAAM,GAAI,CAAC,IAAI,CAACA,OAAO;YAC5B;UACF;QACA,KAAK,UAAU;UAAE;YACf,IAAI,CAACA,OAAM,GAAI,KAAK;YACpB;UACF;MAAA;IAEJ,CAAC;IACDmB,MAAM,GAAG;MACP,IAAI,CAACC,SAAQ,GAAInB,MAAM,CAACoB,OAAO;IACjC;EACF,CAAC;EACDC,IAAI,GAAG;IACL,OAAO;MACLtB,OAAO,EAAE,KAAK;MACduB,WAAW,EAAE,CAAC;MACdH,SAAS,EAAE,CAAC;MACZjB,IAAI,EAAE;IACR;EACF,CAAC;EACDqB,OAAO,GAAG;IACP;IACAvB,MAAM,CAACwB,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACV,WAAW,CAAC;IAEnDd,MAAM,CAACyB,MAAK,GAAI,MAAM;MACpB,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;QAC5BC,UAAU,CAAC,MAAM;UACf5B,MAAM,CAACC,QAAQ,CAAC;YAAC4B,GAAG,EAAE,CAAC;YAAEC,IAAI,EAAE;UAAC,CAAC,CAAC;UAClCH,OAAO,EAAE;QACX,CAAC,EAAE,CAAC,CAAC;MACT,CAAC,CAAC,CAACI,IAAI,CAAC,MAAM;QACZ/B,MAAM,CAACwB,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACN,MAAM,CAAC;MAChD,CAAC;IAEH;EAEF,CAAC;EACDc,YAAY,GAAG;IACb,IAAI,CAACV,WAAU,GAAIW,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAACC,qBAAqB,EAAE,CAACC,MAAK,GAAIpC,MAAM,CAACqC,WAAW;EACxG;AACF","names":["name","props","components","watch","$route","$nextTick","showNav","window","scrollTo","page","$cms","routes","filter","i","path","location","pathname","console","log","href","methods","clickEvents","e","target","id","scroll","scrollPos","scrollY","data","scrollLimit","mounted","addEventListener","onload","Promise","resolve","setTimeout","top","left","then","beforeUpdate","document","getElementById","getBoundingClientRect","height","innerHeight"],"sourceRoot":"","sources":["/Users/rebj/Sites/staging-iyd/src/Index.vue"],"sourcesContent":["<template>\n  <div class=\"index\">\n    <div class=\"gradient\"></div>\n    <div :class=\"`nav-background ${scrollPos > 0 ? 'show-nav-background' : 'hide-nav-background'}`\"></div>\n    <HeaderNav \n    :scrollLimit=\"scrollLimit\" \n    :scrollPos=\"scrollPos\"\n    :showNav=\"showNav\"\n    :navColor=\"page ? page.bg === 'light' ? 'navDark' : 'navLight' : ''\"></HeaderNav>\n    \n      <transition appear name=\"header-nav-screen\">\n        <HeaderNavScreen \n        v-show=\"showNav\" \n        :showNav=\"showNav\"\n        ></HeaderNavScreen>\n      </transition>\n\n    <div id=\"page\" :class=\"`${page ? page.bg === 'light' ? 'lightpage' : 'darkpage' : ''}`\" >\n      <router-view\n      :key=\"$route\"\n      :scrollPos=\"scrollPos\"\n      ></router-view>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'IndexIndex',\n  props: {\n  },\n  components: {\n  },\n  watch: {\n    $route() {\n      this.$nextTick(() => {\n        this.showNav = false;\n        window.scrollTo(0, 0);\n        try {\n          this.page = this.$cms.routes.filter(i => i.path === window.location.pathname)[0];\n        } catch {\n          console.log(\"page doesn't exist\");\n          window.location.href=\"./404\";\n        }\n      })\n    }\n  },\n  methods: {\n    clickEvents(e) {\n      switch(e.target.id) {\n        case \"hamburgerMenu\": {\n          this.showNav = !this.showNav;\n          break;\n        }\n        case \"closeNav\": {\n          this.showNav = false;\n          break;\n        }\n      }\n    },\n    scroll() {\n      this.scrollPos = window.scrollY;\n    },\n  },\n  data() {\n    return {\n      showNav: false,\n      scrollLimit: 0,\n      scrollPos: 0,\n      page: null\n    }\n  },\n  mounted() {\n     // Defining only one click event listener here, to prevent possible memory leaks\n     window.addEventListener(\"click\", this.clickEvents);\n   \n    window.onload = () => {\n      return new Promise((resolve) => {\n          setTimeout(() => {\n            window.scrollTo({top: 0, left: 0});\n            resolve();\n          }, 0);\n      }).then(() => {\n        window.addEventListener(\"scroll\", this.scroll);\n      })\n      \n    }\n   \n  },\n  beforeUpdate() {\n    this.scrollLimit = document.getElementById(\"page\").getBoundingClientRect().height - window.innerHeight;\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\">\n@import \"./styles.scss\";\n@import \"./fonts.scss\";\np, li, div {\n    font-family: $body;\n    color: white;\n    margin-top: 0;\n}\n.gradient {\n  position: absolute;\n  width: 100vw;\n  height: 479px;\n  background: linear-gradient(180deg, rgba(50, 62, 71, 0) 0%, $darkturquoise 94.79%);\n  transform: rotate(-180deg);\n  z-index: 0;\n  pointer-events: none;\n}\n#app {\n  background-color: $darkblue;\n}\n.page {\n  z-index: 1;\n  position: relative;\n}\n.header-nav-screen  {\n  width: 100vw;\n  transition: all 1000ms cubic-bezier(0.355, 0.005, 0.240, 0.990); /* custom */\n  transition-timing-function: cubic-bezier(0.355, 0.005, 0.240, 0.990); /* custom */\n}\n.header-nav-screen-enter-to {\n  width: 100vw !important;\n}\n.header-nav-screen-enter-active {\n  width: 0vw;\n}\n.header-nav-screen-leave-to {\n  width: 0vw;\n}\n\n.page {\n  position: relative;\n  z-index: 2;\n  min-height: 200vh;\n}\nh1 {\n    font-family: $heading;\n    text-transform: uppercase;\n}\nh3 {\n    font-family: $subheading;\n}\n.nav-background {\n  position: fixed;\n  height: 80px;\n  width: 100%;\n  background: $darkblue;\n  z-index: 3;\n  top: 0;\n  transition: all .5 ease;\n}\n.show-nav-background {\n  transform: translateY(0%);\n  transition: all .5 ease;\n}\n.hide-nav-background {\n  transform: translateY(-100%);\n  transition: all .5 ease;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}