{"ast":null,"code":"import { vShow as _vShow, createElementVNode as _createElementVNode, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode, Transition as _Transition, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, normalizeClass as _normalizeClass, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"index\"\n};\nconst _hoisted_2 = {\n  class: \"gradient\"\n};\nconst _hoisted_3 = {\n  class: \"nav-background\",\n  style: \"\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_HeaderNav = _resolveComponent(\"HeaderNav\");\n  const _component_HeaderNavScreen = _resolveComponent(\"HeaderNavScreen\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_withDirectives(_createElementVNode(\"div\", _hoisted_2, null, 512 /* NEED_PATCH */), [[_vShow, $data.page && $data.page.bg !== 'light']]), _createElementVNode(\"div\", _hoisted_3), _createVNode(_component_HeaderNav, {\n    scrollLimit: $data.scrollLimit,\n    scrollPos: $data.scrollPos,\n    showNav: $data.showNav,\n    navColor: $data.page ? $data.page.bg === 'light' ? 'navDark' : 'navLight' : ''\n  }, null, 8 /* PROPS */, [\"scrollLimit\", \"scrollPos\", \"showNav\", \"navColor\"]), _createVNode(_Transition, {\n    appear: \"\",\n    name: \"header-nav-screen\",\n    persisted: \"\"\n  }, {\n    default: _withCtx(() => [_withDirectives(_createVNode(_component_HeaderNavScreen, {\n      showNav: $data.showNav\n    }, null, 8 /* PROPS */, [\"showNav\"]), [[_vShow, $data.showNav]])]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"div\", {\n    id: \"page\",\n    class: _normalizeClass(`${$data.page ? $data.page.bg === 'light' ? 'lightpage' : 'darkpage' : ''}`)\n  }, [(_openBlock(), _createBlock(_component_router_view, {\n    key: _ctx.$route,\n    scrollPos: $data.scrollPos\n  }, null, 8 /* PROPS */, [\"scrollPos\"]))], 2 /* CLASS */)]);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;AAAO;;EACXA,KAAK,EAAC;AAAU;;EAChBA,KAAK,EAAC,gBAAgB;EAAEC,KAAK,EAAN;;;;;;uBAF9BC,oBAuBM,OAvBNC,UAuBM,mBAtBJC,oBAAmE,OAAnEC,UAAmE,yCAArCC,UAAI,IAAKA,UAAI,CAACC,EAAE,iBAC9CH,oBAA4C,OAA5CI,UAA4C,GAC5CC,aAIiFC;IAHhFC,WAAW,EAAEL,iBAAW;IACxBM,SAAS,EAAEN,eAAS;IACpBO,OAAO,EAAEP,aAAO;IAChBQ,QAAQ,EAAER,UAAI,GAAGA,UAAI,CAACC,EAAE;gFAEvBE,aAKaM;IALDC,MAAM,EAAN,EAAM;IAACC,IAAI,EAAC,mBAAmB;IAA3CC,SAAS,EAAT;;sBACE,MAGmB,iBAHnBT,aAGmBU;MADlBN,OAAO,EAAEP;IAAO,gDADTA,aAAO;;MAKnBF,oBAKM;IALDgB,EAAE,EAAC,MAAM;IAAEpB,KAAK,qBAAKM,UAAI,GAAGA,UAAI,CAACC,EAAE;qBACtCc,aAGeC;IAFdC,GAAG,EAAEC,WAAM;IACXZ,SAAS,EAAEN","names":["class","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$data","bg","_hoisted_3","_createVNode","_component_HeaderNav","scrollLimit","scrollPos","showNav","navColor","_Transition","appear","name","persisted","_component_HeaderNavScreen","id","_createBlock","_component_router_view","key","_ctx"],"sourceRoot":"","sources":["/Users/rebj/Sites/staging-iyd/src/Index.vue"],"sourcesContent":["<template>\n  <div class=\"index\">\n    <div class=\"gradient\" v-show=\"page && (page.bg !== 'light')\"></div>\n    <div class=\"nav-background\" :style=\"\"></div>\n    <HeaderNav \n    :scrollLimit=\"scrollLimit\" \n    :scrollPos=\"scrollPos\"\n    :showNav=\"showNav\"\n    :navColor=\"page ? page.bg === 'light' ? 'navDark' : 'navLight' : ''\"></HeaderNav>\n    \n      <transition appear name=\"header-nav-screen\">\n        <HeaderNavScreen \n        v-show=\"showNav\" \n        :showNav=\"showNav\"\n        ></HeaderNavScreen>\n      </transition>\n\n    <div id=\"page\" :class=\"`${page ? page.bg === 'light' ? 'lightpage' : 'darkpage' : ''}`\" >\n      <router-view\n      :key=\"$route\"\n      :scrollPos=\"scrollPos\"\n      ></router-view>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'IndexIndex',\n  props: {\n  },\n  components: {\n  },\n  watch: {\n    $route() {\n      this.$nextTick(() => {\n        this.showNav = false;\n        window.scrollTo(0, 0);\n        try {\n          this.page = this.$cms.routes.filter(i => i.path === window.location.pathname)[0];\n        } catch {\n          console.log(\"page doesn't exist\");\n          window.location.href=\"./404\";\n        }\n      })\n    }\n  },\n  methods: {\n    clickEvents(e) {\n      switch(e.target.id) {\n        case \"hamburgerMenu\": {\n          this.showNav = !this.showNav;\n          break;\n        }\n        case \"closeNav\": {\n          this.showNav = false;\n          break;\n        }\n      }\n    },\n    scroll() {\n      this.scrollPos = window.scrollY;\n    },\n  },\n  data() {\n    return {\n      showNav: false,\n      scrollLimit: 0,\n      scrollPos: 0,\n      page: null\n    }\n  },\n  mounted() {\n     // Defining only one click event listener here, to prevent possible memory leaks\n     window.addEventListener(\"click\", this.clickEvents);\n   \n    window.onload = () => {\n      return new Promise((resolve) => {\n          setTimeout(() => {\n            window.scrollTo({top: 0, left: 0});\n            resolve();\n          }, 0);\n      }).then(() => {\n        window.addEventListener(\"scroll\", this.scroll);\n      })\n      \n    }\n   \n  },\n  beforeUpdate() {\n    this.scrollLimit = document.getElementById(\"page\").getBoundingClientRect().height - window.innerHeight;\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\">\n@import \"./styles.scss\";\n@import \"./fonts.scss\";\np, li, div {\n    font-family: $body;\n    color: white;\n    margin-top: 0;\n}\n.gradient {\n  position: absolute;\n  width: 100vw;\n  height: 479px;\n  background: linear-gradient(180deg, rgba(50, 62, 71, 0) 0%, $darkturquoise 94.79%);\n  transform: rotate(-180deg);\n  z-index: 0;\n  pointer-events: none;\n}\n#app {\n  background-color: $darkblue;\n}\n.page {\n  z-index: 1;\n  position: relative;\n}\n.header-nav-screen  {\n  width: 100vw;\n  transition: all 1000ms cubic-bezier(0.355, 0.005, 0.240, 0.990); /* custom */\n  transition-timing-function: cubic-bezier(0.355, 0.005, 0.240, 0.990); /* custom */\n}\n.header-nav-screen-enter-to {\n  width: 100vw !important;\n}\n.header-nav-screen-enter-active {\n  width: 0vw;\n}\n.header-nav-screen-leave-to {\n  width: 0vw;\n}\n\n.page {\n  position: relative;\n  z-index: 2;\n  min-height: 200vh;\n}\nh1 {\n    font-family: $heading;\n    text-transform: uppercase;\n}\nh3 {\n    font-family: $subheading;\n}\n.nav-background {\n  position: fixed;\n  height: 80px;\n  width: 100%;\n  background: $darkblue;\n  z-index: 3;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}