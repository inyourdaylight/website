{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createVNode as _createVNode, vShow as _vShow, withDirectives as _withDirectives, Transition as _Transition, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"index\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"shine-gradient\"\n}, null, -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_HeaderNav = _resolveComponent(\"HeaderNav\");\n  const _component_HeaderNavScreen = _resolveComponent(\"HeaderNavScreen\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" <div class=\\\"gradient\\\"></div> \"), _hoisted_2, _createElementVNode(\"div\", {\n    class: _normalizeClass(`nav-background ${$data.page ? $data.page.bg === 'light' ? 'light-nav-background' : 'dark-nav-background' : ''} ${$data.scrollPos > 50 ? 'show-nav-background' : 'hide-nav-background'}`)\n  }, null, 2 /* CLASS */), _createVNode(_component_HeaderNav, {\n    clickEvents: $data.clickEvent,\n    scrollLimit: $data.scrollLimit,\n    scrollPos: $data.scrollPos,\n    showNav: $data.showNav,\n    navColor: $data.page ? $data.page.bg === 'light' ? 'navDark' : 'navLight' : ''\n  }, null, 8 /* PROPS */, [\"clickEvents\", \"scrollLimit\", \"scrollPos\", \"showNav\", \"navColor\"]), _createVNode(_Transition, {\n    appear: \"\",\n    name: \"header-nav-screen\",\n    persisted: \"\"\n  }, {\n    default: _withCtx(() => [_withDirectives(_createVNode(_component_HeaderNavScreen, {\n      showNav: $data.showNav\n    }, null, 8 /* PROPS */, [\"showNav\"]), [[_vShow, $data.showNav]])]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"div\", {\n    id: \"page\",\n    class: _normalizeClass(`${$data.page ? $data.page.bg === 'light' ? 'lightpage' : 'darkpage' : ''}`)\n  }, [(_openBlock(), _createBlock(_component_router_view, {\n    key: _ctx.$route,\n    scrollPos: $data.scrollPos\n  }, null, 8 /* PROPS */, [\"scrollPos\"]))], 2 /* CLASS */)]);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;AAAO;gCAEhBC,oBAAkC;EAA7BD,KAAK,EAAC;AAAgB;;;;;;uBAF7BE,oBAyBM,OAzBNC,UAyBM,GAxBJC,uDAAqC,EACrCC,UAAkC,EAClCJ,oBAA2L;IAArLD,KAAK,oCAAoBM,UAAI,GAAGA,UAAI,CAACC,EAAE,sEAAsED,eAAS;2BAC5HE,aAKiFC;IAJhFC,WAAW,EAAEJ,gBAAU;IACvBK,WAAW,EAAEL,iBAAW;IACxBM,SAAS,EAAEN,eAAS;IACpBO,OAAO,EAAEP,aAAO;IAChBQ,QAAQ,EAAER,UAAI,GAAGA,UAAI,CAACC,EAAE;+FAEvBC,aAKaO;IALDC,MAAM,EAAN,EAAM;IAACC,IAAI,EAAC,mBAAmB;IAA3CC,SAAS,EAAT;;sBACE,MAGmB,iBAHnBV,aAGmBW;MADlBN,OAAO,EAAEP;IAAO,gDADTA,aAAO;;MAKnBL,oBAKM;IALDmB,EAAE,EAAC,MAAM;IAAEpB,KAAK,qBAAKM,UAAI,GAAGA,UAAI,CAACC,EAAE;qBACtCc,aAGeC;IAFdC,GAAG,EAAEC,WAAM;IACXZ,SAAS,EAAEN","names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_createCommentVNode","_hoisted_2","$data","bg","_createVNode","_component_HeaderNav","clickEvents","scrollLimit","scrollPos","showNav","navColor","_Transition","appear","name","persisted","_component_HeaderNavScreen","id","_createBlock","_component_router_view","key","_ctx"],"sourceRoot":"","sources":["/Users/rebj/Sites/staging-iyd/src/Index.vue"],"sourcesContent":["<template>\n  <div class=\"index\">\n    <!-- <div class=\"gradient\"></div> -->\n    <div class=\"shine-gradient\"></div>\n    <div :class=\"`nav-background ${page ? page.bg === 'light' ? 'light-nav-background' : 'dark-nav-background' : ''} ${scrollPos > 50 ? 'show-nav-background' : 'hide-nav-background'}`\"></div>\n    <HeaderNav \n    :clickEvents=\"clickEvent\"\n    :scrollLimit=\"scrollLimit\" \n    :scrollPos=\"scrollPos\"\n    :showNav=\"showNav\"\n    :navColor=\"page ? page.bg === 'light' ? 'navDark' : 'navLight' : ''\"></HeaderNav>\n    \n      <transition appear name=\"header-nav-screen\">\n        <HeaderNavScreen \n        v-show=\"showNav\" \n        :showNav=\"showNav\"\n        ></HeaderNavScreen>\n      </transition>\n\n    <div id=\"page\" :class=\"`${page ? page.bg === 'light' ? 'lightpage' : 'darkpage' : ''}`\" >\n      <router-view\n      :key=\"$route\"\n      :scrollPos=\"scrollPos\"\n      ></router-view>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'IndexIndex',\n  props: {\n  },\n  components: {\n  },\n  watch: {\n    $route() {\n      this.$nextTick(() => {\n        this.showNav = false;\n        window.scrollTo(0, 0);\n        try {\n          this.page = this.$cms.routes.filter(i => i.path === window.location.pathname)[0];\n        } catch {\n          console.log(\"page doesn't exist\");\n          window.location.href=\"./404\";\n        }\n      })\n    }\n  },\n  methods: {\n    clickEvents(e) {\n      this.clickEvent = e;\n      switch(e.target.id) {\n        case \"hamburgerMenu\": {\n          this.showNav = !this.showNav;\n          break;\n        }\n        case \"closeNav\": {\n          this.showNav = false;\n          break;\n        }\n      }\n    },\n    scroll() {\n      this.scrollPos = window.scrollY;\n    },\n  },\n  data() {\n    return {\n      showNav: false,\n      scrollLimit: 0,\n      scrollPos: 0,\n      page: null,\n      clickEvent: null\n    }\n  },\n  mounted() {\n     // Defining only one click event listener here, to prevent possible memory leaks\n    window.addEventListener(\"mousedown\", this.clickEvents);\n    window.addEventListener(\"touchstart\", this.clickEvents);\n\n   \n    window.onload = () => {\n      return new Promise((resolve) => {\n          setTimeout(() => {\n            window.scrollTo({top: 0, left: 0});\n            resolve();\n          }, 0);\n      }).then(() => {\n        window.addEventListener(\"scroll\", this.scroll);\n      })\n      \n    }\n   \n  },\n  beforeUpdate() {\n    this.scrollLimit = document.getElementById(\"page\").getBoundingClientRect().height - window.innerHeight;\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\">\n@import \"./styles.scss\";\n@import \"./fonts.scss\";\np, li, div {\n    font-family: $body;\n    color: white;\n    margin-top: 0;\n}\n.gradient {\n  position: absolute;\n  width: 100vw;\n  height: 479px;\n  background: linear-gradient(180deg, rgba(50, 62, 71, 0) 0%, $blue 94.79%);\n  transform: rotate(-180deg);\n  z-index: 0;\n  pointer-events: none;\n}\n.shine-gradient {\n  background-image: url(\"./assets/BG Gradient.png\");\n  background-image: url()\n}\n#app {\n  background-color: $darkblue;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n.page {\n  z-index: 1;\n  position: relative;\n}\n.header-nav-screen  {\n  width: 100vw;\n  transition: all 1000ms cubic-bezier(0.355, 0.005, 0.240, 0.990); /* custom */\n  transition-timing-function: cubic-bezier(0.355, 0.005, 0.240, 0.990); /* custom */\n}\n.header-nav-screen-enter-to {\n  width: 100vw !important;\n}\n.header-nav-screen-enter-active {\n  width: 0vw;\n}\n.header-nav-screen-leave-to {\n  width: 0vw;\n}\n\n.page {\n  position: relative;\n  z-index: 2;\n  min-height: 200vh;\n}\nh1 {\n    font-family: $heading;\n    // text-transform: uppercase;\n}\nh3 {\n    font-family: $subheading;\n}\n.dark-nav-background {\n  background: linear-gradient(0deg, rgba(37,37,37,0) 0%, rgba(33,49,58,0.5536808473389356) 21%, rgba(32,51,62,0.8730085784313726) 49%, rgba(32,52,65,0.9374343487394958) 66%, rgba(31,55,70,1) 100%);\n}\n.light-nav-background {\n  background: linear-gradient(0deg, rgba(224,224,224,0) 0%, rgba(224,224,224,0.6965379901960784) 41%, rgba(224,224,224,1) 100%);\n}\n.nav-background {\n  position: fixed;\n  height: 80px;\n  width: 100%;\n  // background: $darkblue;\n  z-index: 3;\n  top: 0;\n  transition: all .5s ease !important;\n  transform: translateY(0%);\n}\n.show-nav-background {\n  transform: translateY(0%);\n  transition: all .5s ease;\n}\n.hide-nav-background {\n  transform: translateY(-100%);\n  transition: all .5s ease;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}